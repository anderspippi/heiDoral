trait Foo { fn test(): Int32; }

class Baz(let value: Int32)

impl Foo for Baz {
    fn test(): Int32 = self.value;
}

struct Bar(value: Int32)

impl Foo for Bar {
    fn test(): Int32 = self.value;
}

fn main() {
    assert(invoke(baz(17I)) == 17I);
    assert(invoke(baz(0I)) == 0I);
    assert(invoke(baz(101I)) == 101I);

    assert(invoke(bar(17I)) == 17I);
    assert(invoke(bar(0I)) == 0I);
    assert(invoke(bar(101I)) == 101I);
}

fn baz(value: Int32): Foo = Baz(value) as Foo;

fn bar(value: Int32): Foo = Bar(value) as Foo;

fn invoke(foo: Foo): Int32 = foo.test();
