//= vm-args "--gc=copy"

enum Foo { A(Int32, String, Float32), B }

fun main() {
    let tuple = createTuple();
    assert(std::unsafeLoadEnumVariant[Foo](tuple.0) == 0);
    std::forceCollect();
    assert(std::unsafeLoadEnumVariant[Foo](tuple.0) == 0);
}

fun createTuple(): (Foo, Float32) {
    (Foo::A(112, "abc", 17.5F), 2.5F)
}
