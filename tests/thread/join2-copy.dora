//= vm-args "--gc=copy"

class MyThread: std::Thread {
    @override fn run() {}
}

fn main() {
    var i = 0i32;

    while i < 10_000i32 {
        let thread = MyThread();
        thread.start();

        if i % 1_000i32 == 0i32 {
            std::forceCollect();
        }

        i = i + 1i32;
    }
}
