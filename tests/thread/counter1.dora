//= stdout "done\n"

class MyThread extends std::Thread {
    var executed: Bool = false;

    @override fn run() {
        f(self);
    }
}

fn f(thread: MyThread) {
    g(thread);
}

fn g(thread: MyThread) {
    thread.executed = true;
}

fn h(thread: MyThread) {
    thread.join();
    println("done");
}

fn main() {
    let thread = MyThread();
    thread.start();

    h(thread);
}
