//= stdout "done\n"

class MyThread extends std::Thread {
    var executed: Bool = false;

    @override fun run() {
        f(self);
    }
}

fun f(thread: MyThread) {
    g(thread);
}

fun g(thread: MyThread) {
    thread.executed = true;
}

fun h(thread: MyThread) {
    thread.join();
    println("done");
}

fun main() {
    let thread = MyThread();
    thread.start();

    h(thread);
}
