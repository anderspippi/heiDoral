//= vm-args "--gc=swiper --gc-verify"

fun main() {
    let x = Array::ofSizeUnsafe[Object](16L * 1024L);
    let y = Array::ofSizeUnsafe[Object](16L * 1024L);
    let z = Array::ofSizeUnsafe[Object](16L * 1024L);
    std::forceCollect();
    assert(std::unsafeIsNull[Object](x(0L)));
    x(0L) = Object();
    std::forceCollect();
    assert(!std::unsafeIsNull[Object](x(0L)));
}
