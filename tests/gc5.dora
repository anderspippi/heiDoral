fun main() {
  let a = nested();
  forceCollect();

  assert(a.next.unwrap().next.unwrap().value == 3);
}

fun nested(): Foo {
  let x = Foo(3, Option[Foo]::None);
  let y = Foo(2, Option[Foo]::Some(x));
  let z = Foo(1, Option[Foo]::Some(y));

  return z;
}

class Foo(let value: Int32, let next: Option[Foo])
