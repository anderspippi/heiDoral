@open @abstract class Foo[A] {
    @open fn test(x: A): A = x;
}

class Bar[A](let bar: A): Foo[A] {
    @override fn test(x: A): A = self.bar;
}

class Baz[A](let baz: A): Foo[Int32] {
    @override fn test(x: Int32): Int32 = x+x;
}

fn main() {
    let x: Foo[Int32] = Baz[String]("foo");
    assert(x.test(2I) == 4I);

    let x: Foo[Int32] = Bar[Int32](99I);
    assert(x.test(7I) == 99I);
}
