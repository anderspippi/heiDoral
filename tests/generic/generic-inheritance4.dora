@open @abstract class_old Foo[A] {
    @open fn test(x: A): A = x;
}

class_old Bar[A](let bar: A): Foo[A] {
    @override fn test(x: A): A = self.bar;
}

class_old Baz[A](let baz: A): Foo[Int32] {
    @override fn test(x: Int32): Int32 = x+x;
}

fn main() {
    let x: Foo[Int32] = Baz[String]("foo");
    assert(x.test(2i32) == 4i32);

    let x: Foo[Int32] = Bar[Int32](99i32);
    assert(x.test(7i32) == 99i32);
}
